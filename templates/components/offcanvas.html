<div class="offcanvas offcanvas-end" tabindex="-1" id="taskDetailOffcanvas">
    <div class="offcanvas-header">
        <div style="flex: 1;">
            <h2 class="task-title-edit" id="offcanvasTaskTitle">Task Title</h2>
            <div class="task-meta-row">
                <a href="#" class="project-badge">
                    <span class="project-color-dot" id="offcanvasProjectColor" style="background: #3b82f6;"></span>
                    <span id="offcanvasProjectName">Project Name</span>
                </a>
                <span class="badge-custom" id="offcanvasStatus" style="background: #f0f1f3; color: #5e6c84;">
                    <i class="bi bi-kanban"></i>
                    Status
                </span>
            </div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
    </div>

    <div class="offcanvas-body">
        <div class="task-detail-section">
            <div class="section-title">
                <i class="bi bi-lightning-charge"></i>
                Quick Actions
            </div>
            <button class="quick-action-btn" id="offcanvasEditBtn">
                <i class="bi bi-pencil"></i>
                Edit Task
            </button>
            <button class="quick-action-btn" id="offcanvasMoveBtn">
                <i class="bi bi-arrow-right"></i>
                Move to Another Column
            </button>
            <button class="quick-action-btn text-danger" id="offcanvasDeleteBtn">
                <i class="bi bi-trash"></i>
                Delete Task
            </button>
        </div>

        <div class="task-detail-section">
            <div class="section-title">
                <i class="bi bi-info-circle"></i>
                Details
            </div>
            <div class="detail-row">
                <span class="detail-label">Priority</span>
                <span class="badge-custom priority-medium text-light" id="offcanvasPriority">
                    <i class="bi bi-exclamation-circle"></i>
                    Medium
                </span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Type</span>
                <span class="badge-custom type-feature" id="offcanvasType">
                    <i class="bi bi-stars"></i>
                    Feature
                </span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Assigned To</span>
                <span class="detail-value" id="offcanvasAssignee">Unassigned</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Due Date</span>
                <span class="detail-value" id="offcanvasDueDate">No due date</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Created</span>
                <span class="detail-value" id="offcanvasCreated">N/A</span>
            </div>
        </div>

        <div class="task-detail-section">
            <div class="section-title">
                <i class="bi bi-align-start"></i>
                Description
            </div>
            <p class="description-text" id="offcanvasDescription">
                No description provided
            </p>
        </div>

        <div class="task-detail-section">
            <div class="section-title">
                <i class="bi bi-chat-left-text"></i>
                Comments (<span id="commentCount">0</span>)
            </div>

            <div class="comment-list" id="commentsList">
            </div>

            <div class="comment-form">
                <div class="comment-avatar" id="currentUserAvatar">
                    {{ session.get('name', 'U')[0].upper() }}
                </div>
                <textarea class="comment-input" id="commentInput" placeholder="Write a comment... (Shift+Enter for new line)"></textarea>
            </div>
            <div style="text-align: right; margin-top: 0.75rem;">
                <button class="comment-submit-btn" id="submitCommentBtn">
                    <i class="bi bi-send"></i>
                    Post Comment
                </button>
            </div>
        </div>
    </div>
</div>